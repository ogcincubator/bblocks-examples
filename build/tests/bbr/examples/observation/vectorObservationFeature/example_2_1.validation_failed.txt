Validation report for ogc.bbr.examples.observation.vectorObservationFeature - Custom Result for Observation Feature
Generated 2025-10-28T10:38:53.123069+00:00
=== Files ===
Using example_2_1.json from examples
JSON-LD context is present - uplifting
Output JSON-LD example_2_1.jsonld created
Output Turtle example_2_1.ttl created
=== End Files ===

=== JSON Schema ===
Validation passed
=== End JSON Schema ===

=== SHACL ===
Validation result for _sources/observation/vectorObservationFeature/rules.shacl:
  Validation Report
  Conforms: True
  
Focus nodes for _sources/observation/vectorObservationFeature/rules.shacl:
 - Shape <http://example.com/rules#testGeometryCoordinatesIsList>: <http://example.com/features/vector-obs-1>/geojson:geometry
 - Shape <http://example.com/rules#testGeometryHasCoordinates>: <http://example.com/features/vector-obs-1>/geojson:geometry
 - Shape <http://example.com/rules#testVectorObservationFeatureHasOneGeometry>: <http://example.com/features/vector-obs-1>


** Validation error **
Validation result for https://opengeospatial.github.io/ogcapi-sosa/_sources/properties/observation/shapes.shacl:
  Validation Report
  Conforms: False
  Results (1):
  Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
  	Severity: sh:Violation
  	Source Shape: <https://www.ogc.org/rules/sosa/#testCollectionPropertyValues>
  	Focus Node: <http://example.com/features/c1>
  	Value Node: <http://example.com/features/vector-obs-1>
  	Result Path: sosa:resultTime
  	Source Constraint: [ sh:select Literal("
          PREFIX sosa: <http://www.w3.org/ns/sosa/>
          PREFIX geojson: <https://purl.org/geojson/vocab#>
          PREFIX time: <http://www.w3.org/2006/time#>
          SELECT $this ?path (?member AS ?value) ?failedValue WHERE {
              $this (sosa:hasMember|^sosa:memberOf)+ ?member ;
                  ?path ?collectionValue .
              ?member ?path ?memberValue .
              FILTER(?path in ( sosa:resultTime, sosa:phenomenonTime, sosa:hasResult, sosa:hasSimpleResult,
                  sosa:hasFeatureOfInterest, sosa:hasUltimateFeatureOfInterest, sosa:observedProperty, sosa:madeBySystem,
                  sosa:usedProcedure, sosa:madeBySensor, sosa:madeBySampler, sosa:isSampleOf, sosa:madeByActuator,
                  sosa:actsOn, sosa:actsOnProperty, sosa:hasInputValue, sosa:observationRelatedTo,
                  sosa:relatedObservation, sosa:resultQuality, sosa:isOriginalSampleOf, sosa:isResultOfMadeBySampler,
                  sosa:isResultOfUsedProcedure ))
              FILTER((isLiteral(?collectionValue) || isIRI(?collectionValue)) && ?collectionValue != ?memberValue)
              FILTER NOT EXISTS { ?collectionValue a time:Interval }
              BIND(CONCAT(STR(?memberValue), " != ", STR(?collectionValue)) as ?failedValue)
          }
      ") ]
  	Message: Collection member values do not match those of the collections (http://www.w3.org/ns/sosa/resultTime property in http://example.com/features/vector-obs-1: 2023-05-22T16:41:00+2 != 1999)
  
Focus nodes for https://opengeospatial.github.io/ogcapi-sosa/_sources/properties/observation/shapes.shacl:
 - Shape <https://www.ogc.org/rules/sosa/#testCollectionPropertyValues>: <http://example.com/features/c1>
 - Shape <https://www.ogc.org/rules/sosa/#testResult>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testCollectionPropertyValuesInterval>: <http://example.com/features/c1>
 - Shape <https://www.ogc.org/rules/sosa/#testObservedProperty>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testFeatureOfInterest>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testSimpleResultLiteral>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testResultNotEmptyNode>: *none*
 - Shape <https://www.ogc.org/rules/sosa/#testRequiredTime>: *none*

=== End SHACL ===

